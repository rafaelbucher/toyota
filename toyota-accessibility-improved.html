<!DOCTYPE html>
<html lang="fr">

    <head>
        <meta charset="utf-8" />
        <meta http-equiv="x-ua-compatible" content="ie=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Calendrier d'entretien | Toyota Canada</title>
        <meta name="description" content="Planifiez l'entretien de votre véhicule Toyota avec notre calendrier personnalisé. Sélectionnez votre modèle et obtenez un programme d'entretien adapté.">
        
        <link rel="apple-touch-icon" sizes="180x180" href="https://toyotacanada.scene7.com/is/image/toyotacanada/apple-touch-icon-1"/>
        <link rel="icon" sizes="192x192" type="image/png" href="https://toyotacanada.scene7.com/is/image/toyotacanada/icon-192-1"/>
        <link rel="icon" sizes="512x512" type="image/png" href="https://toyotacanada.scene7.com/is/image/toyotacanada/icon-512-1"/>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"/>
        <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
        
        <style>
            /* Styles de base pour la démonstration */
            * {
                box-sizing: border-box;
            }
            
            body {
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
                line-height: 1.6;
                margin: 0;
                padding: 0;
                background: #f8f9fa;
            }
            
            .container {
                max-width: 1200px;
                margin: 0 auto;
                padding: 0 1rem;
            }
            
            /* Styles pour améliorer l'accessibilité */
            .visually-hidden {
                position: absolute !important;
                width: 1px !important;
                height: 1px !important;
                padding: 0 !important;
                margin: -1px !important;
                overflow: hidden !important;
                clip: rect(0, 0, 0, 0) !important;
                white-space: nowrap !important;
                border: 0 !important;
            }
            
            .skip-link {
                position: absolute;
                top: -40px;
                left: 6px;
                background: #000;
                color: #fff;
                padding: 8px 16px;
                text-decoration: none;
                z-index: 1000;
                border-radius: 4px;
                font-weight: 500;
            }
            
            .skip-link:focus {
                top: 6px;
            }
            
            /* Améliorer la visibilité du focus */
            *:focus {
                outline: 3px solid #005fcc;
                outline-offset: 2px;
            }
            
            /* Focus visible uniquement au clavier */
            *:focus:not(:focus-visible) {
                outline: none;
            }
            
            *:focus-visible {
                outline: 3px solid #005fcc;
                outline-offset: 2px;
            }
            
            /* Styles des sections */
            .n-section {
                padding: 2rem 0;
                background: white;
                margin-bottom: 1rem;
            }
            
            .n-section--hidden {
                display: none;
            }
            
            .n-header {
                text-align: center;
                margin-bottom: 2rem;
            }
            
            .n-headline-1 {
                font-size: 2.5rem;
                font-weight: 700;
                color: #333;
                margin: 0 0 1rem 0;
            }
            
            .n-headline-4 {
                font-size: 1.75rem;
                font-weight: 600;
                color: #333;
                margin: 0 0 1rem 0;
            }
            
            .n-paragraph {
                font-size: 1.125rem;
                color: #666;
                max-width: 800px;
                margin: 0 auto;
            }
            
            /* Styles du formulaire */
            .n-form-toyota {
                max-width: 900px;
                margin: 0 auto;
                background: white;
                padding: 2rem;
                border-radius: 8px;
                box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            }
            
            .n-form-toyota__fieldset {
                border: none;
                padding: 0;
                margin: 0 0 2rem 0;
            }
            
            .n-form-toyota__fieldset--grid {
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 2rem;
            }
            
            .n-form-toyota__control {
                margin-bottom: 1.5rem;
                position: relative;
            }
            
            .n-form-toyota__control--full-width {
                grid-column: 1 / -1;
            }
            
            .n-form-toyota__control label {
                display: block;
                font-weight: 600;
                margin-bottom: 0.5rem;
                color: #333;
            }
            
            .required-indicator {
                color: #d73527;
                margin-left: 4px;
            }
            
            .n-form-select,
            .n-form-text {
                width: 100%;
                padding: 12px 16px;
                border: 2px solid #ddd;
                border-radius: 4px;
                font-size: 1rem;
                background: white;
                transition: all 0.2s ease;
            }
            
            .n-form-select:hover,
            .n-form-text:hover {
                border-color: #999;
            }
            
            .n-form-select:focus,
            .n-form-text:focus {
                border-color: #005fcc;
                box-shadow: 0 0 0 3px rgba(0, 95, 204, 0.1);
            }
            
            .n-form-select:disabled,
            .n-form-text:disabled {
                background: #f5f5f5;
                border-color: #e0e0e0;
                color: #999;
                cursor: not-allowed;
            }
            
            /* États de validation */
            .n-form-select.valid,
            .n-form-text.valid {
                border-color: #4ACF98;
                background-image: url("data:image/svg+xml,%3csvg width='14' height='10' viewBox='0 0 14 10' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M12.237 1.16016L4.90365 8.49349L1.57031 5.16016' stroke='%234ACF98' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/%3e%3c/svg%3e");
                background-repeat: no-repeat;
                background-position: right 12px center;
                padding-right: 40px;
            }
            
            .n-form-select.error,
            .n-form-text.error {
                border-color: #d73527;
            }
            
            .error-message {
                color: #d73527;
                font-size: 0.875rem;
                margin-top: 0.5rem;
                font-weight: 500;
            }
            
            .help-text {
                color: #666;
                font-size: 0.875rem;
                margin-top: 0.5rem;
            }
            
            /* Styles des boutons */
            .n-button {
                background: #d73527;
                color: white;
                border: none;
                padding: 12px 24px;
                font-size: 1rem;
                font-weight: 600;
                border-radius: 4px;
                cursor: pointer;
                transition: all 0.2s ease;
                display: inline-flex;
                align-items: center;
                gap: 8px;
                min-height: 48px;
            }
            
            .n-button--large {
                padding: 16px 32px;
                font-size: 1.125rem;
            }
            
            .n-button:hover:not(:disabled) {
                background: #c2312a;
                transform: translateY(-1px);
            }
            
            .n-button:active:not(:disabled) {
                transform: translateY(0);
            }
            
            .n-button:disabled {
                background: #ccc;
                color: #999;
                cursor: not-allowed;
                transform: none;
            }
            
            .n-button-outline {
                background: transparent;
                color: #d73527;
                border: 2px solid #d73527;
            }
            
            .n-button-outline:hover:not(:disabled) {
                background: #d73527;
                color: white;
            }
            
            .n-button__loader {
                display: none;
                width: 16px;
                height: 16px;
                border: 2px solid transparent;
                border-top: 2px solid currentColor;
                border-radius: 50%;
                animation: spin 1s linear infinite;
            }
            
            .n-button--loaded .n-button__loader {
                display: inline-block;
            }
            
            @keyframes spin {
                0% { transform: rotate(0deg); }
                100% { transform: rotate(360deg); }
            }
            
            .n-form-toyota__submit {
                text-align: center;
                margin-top: 2rem;
            }
            
            /* Styles pour la démonstration des états de boutons */
            .button-states-demo {
                margin: 2rem 0;
                padding: 2rem;
                border: 2px dashed #ddd;
                background-color: #f9f9f9;
                border-radius: 8px;
            }
            
            .demo-title {
                font-size: 1.25rem;
                font-weight: 600;
                color: #333;
                margin-bottom: 1.5rem;
                text-align: center;
            }
            
            .button-state-group {
                margin-bottom: 1.5rem;
                text-align: center;
            }
            
            .button-state-info {
                margin-top: 0.75rem;
                font-size: 0.875rem;
            }
            
            .state-label {
                display: block;
                color: #666;
                font-style: italic;
                margin-top: 0.25rem;
            }
            
            /* Styles des résultats */
            .n-data {
                background: #f8f9fa;
                padding: 1.5rem;
                border-radius: 8px;
                margin-bottom: 2rem;
            }
            
            .n-data dl {
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 1rem;
                margin: 0;
            }
            
            .n-data dt {
                font-weight: 600;
                color: #333;
            }
            
            .n-data dd {
                margin: 0;
                color: #666;
            }
            
            /* Swiper personnalisé */
            .n-swiper {
                margin: 2rem 0;
                padding: 0 50px;
            }
            
            .n-swiper-card {
                background: white;
                border: 2px solid #e0e0e0;
                border-radius: 8px;
                padding: 1.5rem;
                text-align: center;
                transition: all 0.2s ease;
                height: 120px;
                display: flex;
                align-items: center;
                justify-content: center;
            }
            
            .n-swiper-card:hover {
                border-color: #005fcc;
                box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            }
            
            .n-swiper-card--selected {
                border-color: #d73527;
                background: #fff5f5;
            }
            
            .n-swiper-card__content p {
                margin: 0.5rem 0;
                font-size: 0.875rem;
                color: #666;
            }
            
            .n-swiper-card__content strong {
                color: #333;
                font-size: 1rem;
            }
            
            .swiper-button-prev,
            .swiper-button-next {
                width: 40px;
                height: 40px;
                background: #d73527;
                border-radius: 50%;
                color: white;
            }
            
            .swiper-button-prev:after,
            .swiper-button-next:after {
                font-size: 14px;
                font-weight: bold;
            }
            
            .n-group-button {
                display: flex;
                gap: 1rem;
                justify-content: center;
                flex-wrap: wrap;
                margin-top: 2rem;
            }
            
            /* Responsive */
            @media (max-width: 768px) {
                .n-headline-1 {
                    font-size: 2rem;
                }
                
                .n-form-toyota {
                    padding: 1.5rem;
                }
                
                .n-form-toyota__fieldset--grid {
                    grid-template-columns: 1fr;
                    gap: 0;
                }
                
                .n-data dl {
                    grid-template-columns: 1fr;
                }
                
                .n-group-button {
                    flex-direction: column;
                    align-items: center;
                }
                
                .n-swiper {
                    padding: 0 20px;
                }
            }
            
            /* Amélioration des couleurs pour le contraste */
            .high-contrast {
                --primary-color: #000080;
                --error-color: #cc0000;
                --success-color: #006600;
            }
            
            /* Mode sombre basique */
            @media (prefers-color-scheme: dark) {
                body {
                    background: #1a1a1a;
                    color: #e0e0e0;
                }
                
                .n-section {
                    background: #2d2d2d;
                }
                
                .n-form-toyota {
                    background: #2d2d2d;
                }
                
                .n-form-select,
                .n-form-text {
                    background: #3a3a3a;
                    border-color: #555;
                    color: #e0e0e0;
                }
                
                .n-swiper-card {
                    background: #3a3a3a;
                    border-color: #555;
                }
            }
        </style>
    </head>

    <body>
        <!-- Liens d'évitement améliorés -->
        <nav aria-label="Liens d'évitement" class="skip-links">
            <a href="#main-content" class="skip-link">Aller au contenu principal</a>
            <a href="#vehicle-form" class="skip-link">Aller au formulaire</a>
            <a href="#results-section" class="skip-link">Aller aux résultats</a>
        </nav>
        
        <!-- Région de messages pour les annonces -->
        <div id="announcements" aria-live="polite" aria-atomic="true" class="visually-hidden"></div>
        <div id="urgent-announcements" aria-live="assertive" aria-atomic="true" class="visually-hidden"></div>
        
        <header role="banner">
            <nav role="navigation" aria-label="Navigation principale">
                <!-- Navigation principale serait ici -->
            </nav>
        </header>

        <main id="main-content" role="main">
            <div class="container">
                <section class="n-section" aria-labelledby="main-heading">
                    <div class="n-header">
                        <h1 id="main-heading" class="n-headline-1">Besoin d'un rendez-vous de service ?</h1>
                        <p class="n-paragraph">Quel que soit le type de Toyota que vous conduisez – essence, hybride ou électrique –, elle doit toujours faire l'objet d'un entretien régulier. Plus vous bichonnez votre Toyota, plus elle durera longtemps. Consultez votre programme d'entretien personnalisé ci-dessous et prenez votre prochain rendez-vous.</p>
                    </div>
                </section>

                <section class="n-section" aria-labelledby="form-heading">
                    <h2 id="form-heading" class="visually-hidden">Formulaire de sélection du véhicule</h2>
                    
                    <form class="n-form-toyota" id="vehicle-form" novalidate aria-describedby="form-description">
                        <div id="form-description" class="visually-hidden">
                            Formulaire pour sélectionner votre véhicule Toyota et obtenir votre programme d'entretien personnalisé. Tous les champs marqués d'un astérisque sont obligatoires.
                        </div>
                        
                        <fieldset class="n-form-toyota__fieldset n-form-toyota__fieldset--grid">
                            <legend class="visually-hidden">Informations sur le véhicule</legend>

                            <div class="n-form-toyota__control">
                                <label for="vehicle-select">
                                    Véhicule
                                    <span class="required-indicator" aria-label="champ obligatoire">*</span>
                                </label>
                                <select name="vehicle" id="vehicle-select" class="n-form-select" required aria-describedby="vehicle-error" aria-invalid="false">
                                    <option value="">Sélectionnez un véhicule</option>
                                    <option value="4Runner">4Runner</option>
                                    <option value="4runner-hybrid">4Runner Hybrid</option>
                                    <option value="avalon">Avalon</option>
                                    <option value="c-hr">C-HR</option>
                                    <option value="camry-hybride">Camry hybride</option>
                                    <option value="autres">Autres modèles</option>
                                </select>
                                <div id="vehicle-error" class="error-message" role="alert" aria-live="polite"></div>
                            </div>

                            <div class="n-form-toyota__control">
                                <label for="year-select">
                                    Année
                                    <span class="required-indicator" aria-label="champ obligatoire">*</span>
                                </label>
                                <select name="year" id="year-select" class="n-form-select" required aria-describedby="year-error" aria-invalid="false">
                                    <option value="">Sélectionner l'année</option>
                                    <option value="2025">2025</option>
                                    <option value="2024">2024</option>
                                    <option value="2023">2023</option>
                                    <option value="2022">2022</option>
                                    <option value="2021">2021</option>
                                </select>
                                <div id="year-error" class="error-message" role="alert" aria-live="polite"></div>
                            </div>

                            <div class="n-form-toyota__control n-form-toyota__control--full-width">
                                <label for="model-select">
                                    Modèle
                                    <span class="required-indicator" aria-label="champ obligatoire">*</span>
                                </label>
                                <select name="model" id="model-select" class="n-form-select" disabled required aria-describedby="model-error model-help" aria-invalid="false">
                                    <option value="">Sélectionner le modèle</option>
                                    <option value="4runner">4Runner</option>
                                    <option value="autres">Autres modèles</option>
                                </select>
                                <div id="model-help" class="help-text">Ce champ sera activé après avoir sélectionné un véhicule et une année</div>
                                <div id="model-error" class="error-message" role="alert" aria-live="polite"></div>
                            </div>
                        </fieldset>

                        <fieldset class="n-form-toyota__fieldset n-form-toyota__fieldset--grid">
                            <legend class="visually-hidden">Informations sur le kilométrage</legend>

                            <div class="n-form-toyota__control">
                                <label for="mileage-input">
                                    Kilométrage du véhicule (km)
                                    <span class="required-indicator" aria-label="champ obligatoire">*</span>
                                </label>
                                <input 
                                    type="number" 
                                    id="mileage-input" 
                                    name="mileage" 
                                    placeholder="0" 
                                    min="0" 
                                    max="512000" 
                                    step="1"
                                    class="n-form-text" 
                                    required 
                                    aria-describedby="mileage-error mileage-help"
                                    aria-invalid="false"
                                    inputmode="numeric">
                                <div id="mileage-help" class="help-text">Entrez le kilométrage actuel de votre véhicule (entre 0 et 512 000 km)</div>
                                <div id="mileage-error" class="error-message" role="alert" aria-live="polite"></div>
                            </div>

                            <div class="n-form-toyota__control">
                                <label for="average-input">Kilométrage mensuel moyen (optionnel)</label>
                                <input 
                                    type="number" 
                                    id="average-input" 
                                    name="averageMileage" 
                                    placeholder="0" 
                                    min="0" 
                                    max="10000" 
                                    step="1"
                                    class="n-form-text" 
                                    aria-describedby="average-help"
                                    inputmode="numeric">
                                <div id="average-help" class="help-text">Kilométrage moyen que vous parcourez chaque mois (optionnel, améliore la précision des estimations)</div>
                            </div>
                        </fieldset>

                        <!-- Démonstration des 3 états de bouton pour le client -->
                        <div class="button-states-demo" role="region" aria-labelledby="demo-heading">
                            <h2 id="demo-heading" class="demo-title">Démonstration des états du bouton</h2>
                            
                            <!-- État 1: Bouton désactivé -->
                            <div class="button-state-group">
                                <button class="n-button n-button--large" type="button" disabled aria-describedby="disabled-help">
                                    <span class="button-text">Afficher mon calendrier</span>
                                    <span class="n-button__loader" aria-hidden="true"></span>
                                </button>
                                <div id="disabled-help" class="button-state-info">
                                    <span class="visually-hidden">État : Bouton désactivé. Formulaire incomplet.</span>
                                    <small class="state-label">État : Désactivé (champs obligatoires manquants)</small>
                                </div>
                            </div>

                            <!-- État 2: Bouton normal/actif -->
                            <div class="button-state-group">
                                <button class="n-button n-button--large" type="button" aria-describedby="normal-help">
                                    <span class="button-text">Afficher mon calendrier</span>
                                    <span class="n-button__loader" aria-hidden="true"></span>
                                </button>
                                <div id="normal-help" class="button-state-info">
                                    <span class="visually-hidden">État : Bouton actif. Prêt à soumettre le formulaire.</span>
                                    <small class="state-label">État : Actif (formulaire valide)</small>
                                </div>
                            </div>

                            <!-- État 3: Bouton en cours de chargement -->
                            <div class="button-state-group">
                                <button class="n-button n-button--large n-button--loaded" type="button" disabled aria-describedby="loading-help">
                                    <span class="button-text">Chargement...</span>
                                    <span class="n-button__loader" aria-hidden="false" role="status" aria-label="Traitement en cours"></span>
                                </button>
                                <div id="loading-help" class="button-state-info">
                                    <span class="visually-hidden">État : Traitement en cours. Veuillez patienter.</span>
                                    <small class="state-label">État : Chargement (traitement en cours)</small>
                                </div>
                            </div>
                        </div>

                        <!-- Bouton de soumission réel -->
                        <div class="n-form-toyota__submit">
                            <button class="n-button n-button--large" type="submit" id="submit-button" disabled>
                                <span class="button-text">Afficher mon calendrier d'entretien</span>
                                <span class="n-button__loader" aria-hidden="true"></span>
                            </button>
                        </div>
                    </form>
                </section>

                <section class="n-section n-section--hidden" id="results-section" aria-labelledby="results-heading" tabindex="-1">
                    <div class="n-header">
                        <h2 id="results-heading" class="n-headline-4">VOTRE PROGRAMME D'ENTRETIEN PERSONNALISÉ</h2>
                        <p class="n-paragraph">Le calendrier d'entretien recommandé ci-dessous est basé sur les renseignements sur votre véhicule.</p>
                    </div>

                    <div class="n-data" role="region" aria-labelledby="vehicle-info-heading">
                        <h3 id="vehicle-info-heading" class="visually-hidden">Informations sur votre véhicule</h3>
                        <dl>
                            <dt>Votre Toyota</dt>
                            <dd id="vehicle-summary"><strong>4Runner 2024</strong></dd>
                            <dt>Kilométrage du véhicule (km)</dt>
                            <dd id="mileage-summary"><strong>102</strong> km</dd>
                            <dt>Kilométrage mensuel moyen</dt>
                            <dd id="average-summary"><strong>1,333</strong> km/mois</dd>
                        </dl>
                    </div>

                    <div class="swiper n-swiper" role="region" aria-labelledby="schedule-heading">
                        <h3 id="schedule-heading" class="visually-hidden">Calendrier des services d'entretien</h3>
                        <div class="swiper-wrapper n-swiper-cards">
                            <div class="swiper-slide" role="group" aria-label="Service 1 sur 5">
                                <div class="n-swiper-card" tabindex="0" role="article" aria-labelledby="service-1-title">
                                    <div class="n-swiper-card__content">
                                        <p id="service-1-title">Prochain service<br><strong>24,000 km</strong></p>
                                        <p>Date de service estimée<br><strong>Décembre 2026</strong></p>
                                    </div>
                                </div>
                            </div>
                            <div class="swiper-slide" role="group" aria-label="Service 2 sur 5">
                                <div class="n-swiper-card" tabindex="0" role="article" aria-labelledby="service-2-title">
                                    <div class="n-swiper-card__content">
                                        <p id="service-2-title">Prochain service<br><strong>32,000 km</strong></p>
                                        <p>Date de service estimée<br><strong>Juin 2027</strong></p>
                                    </div>
                                </div>
                            </div>
                            <div class="swiper-slide" role="group" aria-label="Service 3 sur 5">
                                <div class="n-swiper-card n-swiper-card--selected" tabindex="0" role="article" aria-current="true" aria-labelledby="service-3-title">
                                    <div class="n-swiper-card__content">
                                        <p id="service-3-title">Service recommandé<br><strong>40,000 km</strong></p>
                                        <p>Date de service estimée<br><strong>Décembre 2027</strong></p>
                                    </div>
                                </div>
                            </div>
                            <div class="swiper-slide" role="group" aria-label="Service 4 sur 5">
                                <div class="n-swiper-card" tabindex="0" role="article" aria-labelledby="service-4-title">
                                    <div class="n-swiper-card__content">
                                        <p id="service-4-title">Prochain service<br><strong>48,000 km</strong></p>
                                        <p>Date de service estimée<br><strong>Juin 2028</strong></p>
                                    </div>
                                </div>
                            </div>
                            <div class="swiper-slide" role="group" aria-label="Service 5 sur 5">
                                <div